{"version":3,"file":"static/js/310.c25143ff.chunk.js","mappings":"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","sources":["webpack://bits-orchestra/./src/components/common/Container/Container.module.scss?a7c4","components/common/Container/Container.js","components/common/NavigateButton/NavigateButton.js","webpack://bits-orchestra/./src/components/common/Section/Section.module.scss?c523","components/common/Section/Section.js","components/common/TextButton/TextButton.js","webpack://bits-orchestra/./src/components/common/Title/Title.module.scss?5260","components/common/Title/Title.js","webpack://bits-orchestra/./src/components/common/InputWithLabel/InputWithLabel.module.scss?2966","components/common/InputWithLabel/InputWithLabel.js","webpack://bits-orchestra/./src/components/common/Select/Select.module.scss?b0cb","components/common/Select/Select.js","webpack://bits-orchestra/./src/components/AddBookForm/AddBookForm.module.scss?bbed","components/AddBookForm/AddBookForm.js","utils/validateISBN.js","webpack://bits-orchestra/./src/layouts/AddBookLayout/AddBookLayout.module.scss?f50f","../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","utils/sanitizeMode.js","layouts/AddBookLayout/AddBookLayout.js","services/booksApi.js","utils/generateId.js","utils/prepareToast.js","webpack://bits-orchestra/./src/components/common/TextButton/TextButton.module.scss?f687"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Container_container__VRrje\"};","import styles from './Container.module.scss';\n\nconst Container = ({ children, className, ...restProps }) => {\n    return (\n        <div\n            className={`${styles.container} ${className}` }\n            { ...restProps }\n        >\n            { children }\n        </div>\n    )\n}\n\nexport default Container;","import { Link } from 'react-router-dom';\nimport styles from 'components/common/TextButton/TextButton.module.scss';\n\nconst NavigateButton = ({ text, className = '', ...restProps }) => {\n    const css = `${styles.button} ${className}`;\n    \n    return (\n        <Link\n            className={ css }\n            { ...restProps }\n        >\n            { text }\n        </Link>\n    )\n}\n\nexport default NavigateButton;","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Section_section__7PoKG\",\"title\":\"Section_title__H9e+4\"};","import Container from '../Container';\nimport Title from '../Title';\nimport styles from './Section.module.scss';\n\nconst Section = ({\n    children, title, titleStyles = '',\n    containerStyles = '', sectionStyles = '',\n    component\n}) => {\n    return (\n        <section\n            className={ `${styles.section} ${sectionStyles}` }\n        >\n            <Container\n                className={ containerStyles }\n            >\n                {\n                    title && <Title\n                                text={ title }\n                                component={ component }\n                                className={ `${styles.title} ${titleStyles}` }\n                            />\n                }\n                {children}\n            </Container>\n        </section>\n    )\n}\n\nexport default Section;","import styles from './TextButton.module.scss';\n\nconst TextButton = ({ text, className = '', ...restProps }) => {\n    const css = `${styles.button} ${className}`;\n\n    return (\n        <button\n            className={ css }\n            { ...restProps }\n        >\n            { text }\n        </button>\n    )\n}\n\nexport default TextButton;","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Title_title__MxNSH\"};","import styles from './Title.module.scss';\n\nconst Title = ({ text, component, className = '', ...restProps }) => {\n    const css = `${styles.title} ${className}`;\n    let hTagLevel = <h1 className={ css } {...restProps}>{ text }</h1>;\n    \n    switch(component) {\n        case 'h2':\n            hTagLevel = <h2 className={ css } {...restProps}>{ text }</h2>;\n            break;\n        case 'h3':\n            hTagLevel = <h3 className={ css } {...restProps}>{ text }</h3>;\n            break;\n        case 'h4':\n            hTagLevel = <h4 className={ css } {...restProps}>{ text }</h4>;\n            break;\n        case 'h5':\n            hTagLevel = <h5 className={ css } {...restProps}>{ text }</h5>;\n            break;\n        case 'h6':\n            hTagLevel = <h6 className={ css } {...restProps}>{ text }</h6>;\n            break;\n        default:\n            return hTagLevel;\n    }\n\n    return hTagLevel;\n}\n\nexport default Title;","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"InputWithLabel_label__uq2q8\",\"required\":\"InputWithLabel_required__YJs6B\",\"input\":\"InputWithLabel_input__2L5K0\"};","import styles from './InputWithLabel.module.scss';\n\nconst InputWithLabel = ({\n    label,\n    labelStyles = '',\n    inputStyles = '',\n    wrapperStyles = '',\n    required,\n    value,\n    onChange,\n    ...restProps\n}) => {\n    // styles\n    const requieredCss = required ? styles.required : '';\n    const labelCss = `${styles.label} ${labelStyles} ${requieredCss}`;\n    const inputCss = `${styles.input} ${inputStyles}`;\n    const wrapperCss = `${wrapperStyles}`;\n\n    return (\n        <div className={ wrapperCss }>\n            { label && <label\n                            className={ labelCss }\n                        >\n                            { label }\n                        </label>\n            }\n            <input\n                className={ inputCss }\n                value={ value }\n                onChange={ onChange }\n                required={ required }\n                { ...restProps }\n            />\n        </div>\n    )\n}\n\nexport default InputWithLabel;","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Select_wrapper__ieKxo\",\"select\":\"Select_select__KxRfo\",\"label\":\"Select_label__B44vK\"};","import styles from './Select.module.scss';\n\nconst Select = ({\n    options,\n    value,\n    onChange,\n    id,\n    label,\n    selectStyles = '',\n    wrapperStyles = ''\n}) => {\n\n    const selectCss = `${styles.select} ${selectStyles}`;\n    const wrapperCss = `${styles.wrapper} ${wrapperStyles}`\n\n    return (\n        <div className={ wrapperCss }>\n            {\n                label &&    <label\n                                className={ styles.label }\n                                htmlFor={ id }\n                            >\n                                { label }\n                            </label>\n            }\n            <select\n                id={ id }\n                name={ id }\n                onChange={ onChange }\n                value={ value }\n                className={ selectCss }\n            >\n                {\n                    options && options.map(option => (\n                        <option\n                            key={ option }\n                            value={ option }\n                        >\n                            {option}\n                        </option>\n                    ))\n                }\n            </select>\n        </div>\n    )\n}\n\nexport default Select;","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"AddBookForm_form__WZ9Js\",\"label\":\"AddBookForm_label__-ECjS\",\"add_book\":\"AddBookForm_add_book__Gb3ax\"};","import { useContext, useEffect, useState } from \"react\";\nimport { GENRES } from \"constants\";\nimport { booksApi } from \"services/booksApi\";\nimport InputWithLabel from \"components/common/InputWithLabel\";\nimport Select from \"components/common/Select\";\nimport TextButton from \"components/common/TextButton\";\nimport styles from './AddBookForm.module.scss';\nimport { ToasterContext } from \"components/App\";\nimport { prepareToast } from \"utils/prepareToast\";\nimport { validateISBN } from \"utils/validateISBN\";\nimport { useNavigate } from \"react-router-dom\";\nimport { ROUTES } from \"constants\";\n\nconst AddBookForm = ({ editBook, book, ...restProps }) => {\n    const [ id, setId ] = useState();\n    const [ title, setTitle ] = useState('');\n    const [ author, setAuthor ] = useState('');\n    const [ category, setCategory ] = useState(GENRES[0]);\n    const [ ISBN, setISBN] = useState('');\n    const [ options, setOptions] = useState(GENRES);\n    const [ shouldRedirect, setShouldRedirect ] = useState(false);\n\n    const { clearAllToasts } = useContext(ToasterContext);\n    const navigate = useNavigate();\n\n    const { createToast } = useContext(ToasterContext);\n\n    useEffect(() => {\n        if(editBook && book && !shouldRedirect) {\n            const { id, title, author, category: [category], ISBN } = book;\n            \n            setId(id);\n            setTitle(title);\n            setAuthor(author);\n            setCategory(category?.[0]);\n            setISBN(ISBN);\n            setOptions([...category, ...GENRES]);\n            return;\n        }\n\n        if(shouldRedirect) {\n            clearAllToasts();\n            navigate(ROUTES.HOME);\n            setShouldRedirect(false);\n            return;\n        }\n\n        return () => clearAllToasts();\n\n    }, [editBook, book, shouldRedirect, navigate, clearAllToasts]);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        const isAllFilledIn = title && author && category && ISBN;\n        const isISBNofNeededLenght = validateISBN(+ISBN);\n\n        if(!isAllFilledIn) {\n            createToast(prepareToast(null, 'All fields must be filled in'));\n            return;\n        }\n        if(!isISBNofNeededLenght) {\n            createToast(prepareToast(null, `ISBN length is ${ISBN.toString().length}. Needed 13 digits`));\n            return;\n        }\n\n        const book = { title, author, category, ISBN: +ISBN };\n        editBook\n            ? booksApi.updateBook(id, book).then(handleSuccess).catch(handleError)\n            : booksApi.createBook(book).then(handleSuccess).catch(handleError);\n    }\n    function handleSuccess() {\n        createToast(prepareToast('success'));\n        setTitle('');\n        setAuthor('');\n        setISBN('');\n        \n        setShouldRedirect(true);\n    }\n    function handleError() {\n        createToast(prepareToast('error'));\n    }\n\n    return (\n        <form\n            className={ styles.form }\n            onSubmit={ handleSubmit }\n            { ...restProps }\n        >\n            <InputWithLabel\n                id=\"Book title\"\n                label=\"Book title\"\n                required\n                type=\"text\"\n                labelStyles={ styles.label }\n                onChange={(e) => setTitle(e.target.value)}\n                value={ title }\n            />\n            <InputWithLabel\n                id=\"Author name\"\n                label=\"Author name\"\n                required\n                type=\"text\"\n                labelStyles={ styles.label }\n                onChange={(e) => setAuthor(e.target.value)}\n                value={ author }\n            />\n            <Select\n                id=\"Genre\"\n                label=\"Pick up a genre...\"\n                onChange={(e) => setCategory(e.target.value)}\n                value={ category }\n                options={ options }\n            />\n            <InputWithLabel\n                id=\"ISBN\"\n                label=\"International Standard Book Number (ISBN)\"\n                required\n                type=\"number\"\n                labelStyles={ styles.label }\n                onChange={(e) => setISBN(e.target.value)}\n                value={ ISBN }\n                \n            />\n            <TextButton\n                type=\"submit\"\n                text={ editBook ? 'Save changes' : 'Add book' }\n                className={ styles.add_book }\n            />\n        </form>\n    )\n}\n\nexport default AddBookForm;","import { regexpNumberLength } from \"constants/regexp\"\n\nexport const validateISBN = (value) => regexpNumberLength.test(value);","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"AddBookLayout_section__gQGGl\",\"title\":\"AddBookLayout_title__2doNg\",\"navigate_btn\":\"AddBookLayout_navigate_btn__Skp5e\"};","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","import { regexp } from \"constants\"\n\nexport const sanitaizeMode = (str) => {\n    if(typeof str !== 'string' || !str) {\n        throw new Error('Stirng must be passed');\n    }\n\n    const matched = str.match(regexp).join``.split``;\n    const truncatedPreDash = matched.slice(1);\n    const lastIndexOfDash = matched.lastIndexOf('/');\n    \n    return truncatedPreDash.slice(0, lastIndexOfDash - 1).join``;\n}","import { useEffect, useState, useContext } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport AddBookForm from \"components/AddBookForm\"\nimport NavigateButton from \"components/common/NavigateButton\";\nimport Section from \"components/common/Section\";\nimport styles from './AddBookLayout.module.scss';\nimport { ROUTES } from \"constants\";\nimport { BOOK_MODES } from 'constants';\nimport { booksApi } from 'services/booksApi';\nimport { sanitaizeMode } from 'utils/sanitizeMode';\nimport { ToasterContext } from 'components/App';\nimport { prepareToast } from 'utils/prepareToast';\n\nconst AddBookLayout = () => {\n    const [ book, setBook ] = useState(null);\n    const location = useLocation();\n    const { bookId } = useParams();\n    const goBackHref = location.state?.from ?? ROUTES.HOME;\n    const mode = sanitaizeMode(location.pathname);\n    const isEditMode = mode === BOOK_MODES.EDIT;\n    const titleText = isEditMode ? 'Edit book' : 'Add book';\n\n    const { createToast } = useContext(ToasterContext);\n\n    useEffect(() => {\n        if(isEditMode) {\n            booksApi.fetchBookById(bookId)\n                .then(book => setBook(book))\n                .catch(() => createToast(prepareToast('error')));\n        }\n\n    }, [bookId, isEditMode, createToast]);\n    \n    return (\n        <Section\n            component=\"h2\"\n            title={ titleText }\n            titleStyles={ styles.title }\n            sectionStyles={ styles.section }\n        >\n            <NavigateButton\n                to={ goBackHref }\n                text=\"Go back\"\n                className={ styles.navigate_btn }\n            />\n            <AddBookForm\n                editBook={ isEditMode }\n                book={ book }\n            />\n        </Section>\n    )\n}\n\nexport default AddBookLayout;","const BASE_URL = 'http://localhost:1234';\nconst booksUrl = BASE_URL + '/books';\n\nconst getHeaders = (method, bodyData) => {\n    const body = bodyData ? { body: JSON.stringify(bodyData) } : {};\n\n    return {\n        method: method,\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n        },\n        ...body\n    }\n}\n\nconst fetchAllBooks = async () => {\n    try {\n        const response = await fetch(booksUrl, getHeaders('GET'));\n        \n        if(response.ok) {\n            const parsedResponse = await response.json();\n            return parsedResponse\n        }\n        \n        throw new Error('Server error! Try again');\n    } catch (error) {\n        console.log(error);\n        return error;\n    }\n}\nconst fetchBookById = async (bookId) => {\n    try {\n        const response = await fetch(`${booksUrl}/${bookId}`, getHeaders('GET'));\n        \n        if(response.ok) {\n            const parsedResponse = await response.json();\n            return parsedResponse\n        }\n        \n        throw new Error('Server error! Try again');\n    } catch (error) {\n        console.log(error);\n        return error;\n    }\n}\nconst createBook = async (book) => {\n    console.log(book);\n    try {\n        const response = await fetch(booksUrl, getHeaders('POST', book));\n        \n        if(response.ok) {\n            const parsedResponse = await response.json();\n            return parsedResponse\n        }\n        \n        throw new Error('Server error! Try again');\n    } catch (error) {\n        console.log(error);\n        return error;\n    }\n}\nconst updateBook = async (bookId, dataToUpdate) => {\n    try {\n        const response = await fetch(`${booksUrl}/${bookId}`, getHeaders('PUT', dataToUpdate));\n        \n        if(response.ok) {\n            const parsedResponse = await response.json();\n            return parsedResponse\n        }\n        \n        throw new Error('Server error! Try again');\n    } catch (error) {\n        console.log(error);\n        return error;\n    }\n}\nconst deleteBook = async (bookId) => {\n    try {\n        const response = await fetch(`${booksUrl}/${bookId}`, getHeaders('DELETE'));\n        \n        if(response.ok) {\n            const parsedResponse = await response.json();\n            return parsedResponse\n        }\n        \n        throw new Error('Server error! Try again');\n    } catch (error) {\n        console.log(error);\n        return error;\n    }\n}\n\nexport const booksApi = {\n    fetchAllBooks,\n    fetchBookById,\n    createBook,\n    updateBook,\n    deleteBook\n}","export const generateId = (length = 5, max = 9) => {\n    let id = '';\n\n    for(let i = 0; i < length; i += 1) {\n        id += getRandomNumber(max);\n    }\n\n    return +id;\n};\n\nfunction getRandomNumber(max) {\n    return Math.floor(Math.random() * max) + 1;\n}","import { generateId } from \"./generateId\";\n\nexport const prepareToast = (status, warnText) => {\n    if(!status && warnText) {\n        return {\n            warnText,\n            id: generateId()\n        }\n    }\n    \n    return {\n        [status]: true,\n        id: generateId()\n    }\n}","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"TextButton_button__GO9Qs\"};"],"names":["children","className","restProps","styles","text","css","title","titleStyles","containerStyles","sectionStyles","component","Container","Title","hTagLevel","label","labelStyles","inputStyles","wrapperStyles","required","value","onChange","requieredCss","labelCss","inputCss","wrapperCss","options","id","selectStyles","selectCss","htmlFor","name","map","option","editBook","book","useState","setId","setTitle","author","setAuthor","GENRES","category","setCategory","ISBN","setISBN","setOptions","shouldRedirect","setShouldRedirect","clearAllToasts","useContext","ToasterContext","navigate","useNavigate","createToast","useEffect","ROUTES","handleSuccess","prepareToast","handleError","onSubmit","e","preventDefault","isAllFilledIn","isISBNofNeededLenght","regexpNumberLength","booksApi","then","catch","toString","length","type","target","TextButton","_taggedTemplateLiteral","strings","raw","slice","Object","freeze","defineProperties","setBook","location","useLocation","bookId","useParams","goBackHref","state","from","isEditMode","str","Error","matched","match","regexp","join","split","truncatedPreDash","lastIndexOfDash","lastIndexOf","sanitaizeMode","pathname","BOOK_MODES","titleText","Section","NavigateButton","to","booksUrl","BASE_URL","getHeaders","method","bodyData","body","JSON","stringify","headers","Accept","fetchAllBooks","fetch","response","ok","json","parsedResponse","console","log","fetchBookById","createBook","updateBook","dataToUpdate","deleteBook","generateId","max","i","getRandomNumber","Math","floor","random","status","warnText"],"sourceRoot":""}