"use strict";(self.webpackChunkbits_orchestra=self.webpackChunkbits_orchestra||[]).push([[823],{153:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(413),c=n(925),a="Container_container__VRrje",o=n(184),s=["children","className"],u=function(e){var t=e.children,n=e.className,u=(0,c.Z)(e,s);return(0,o.jsx)("div",(0,r.Z)((0,r.Z)({className:"".concat(a," ").concat(n)},u),{},{children:t}))}},216:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(413),c=n(925),a=n(504),o=n(327),s=n(184),u=["text","className"],i=function(e){var t=e.text,n=e.className,i=void 0===n?"":n,l=(0,c.Z)(e,u),h="".concat(o.Z.button," ").concat(i);return(0,s.jsx)(a.rU,(0,r.Z)((0,r.Z)({className:h},l),{},{children:t}))}},841:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(153),c=n(334),a="Section_section__7PoKG",o="Section_title__H9e+4",s=n(184),u=function(e){var t=e.children,n=e.title,u=e.titleStyles,i=void 0===u?"":u,l=e.containerStyles,h=void 0===l?"":l,d=e.sectionStyles,f=void 0===d?"":d,x=e.component;return(0,s.jsx)("section",{className:"".concat(a," ").concat(f),children:(0,s.jsxs)(r.Z,{className:h,children:[n&&(0,s.jsx)(c.Z,{text:n,component:x,className:"".concat(o," ").concat(i)}),t]})})}},603:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(413),c=n(925),a=n(327),o=n(184),s=["text","className"],u=function(e){var t=e.text,n=e.className,u=void 0===n?"":n,i=(0,c.Z)(e,s),l="".concat(a.Z.button," ").concat(u);return(0,o.jsx)("button",(0,r.Z)((0,r.Z)({className:l},i),{},{children:t}))}},334:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(413),c=n(925),a="Title_title__MxNSH",o=n(184),s=["text","component","className"],u=function(e){var t=e.text,n=e.component,u=e.className,i=void 0===u?"":u,l=(0,c.Z)(e,s),h="".concat(a," ").concat(i),d=(0,o.jsx)("h1",(0,r.Z)((0,r.Z)({className:h},l),{},{children:t}));switch(n){case"h2":d=(0,o.jsx)("h2",(0,r.Z)((0,r.Z)({className:h},l),{},{children:t}));break;case"h3":d=(0,o.jsx)("h3",(0,r.Z)((0,r.Z)({className:h},l),{},{children:t}));break;case"h4":d=(0,o.jsx)("h4",(0,r.Z)((0,r.Z)({className:h},l),{},{children:t}));break;case"h5":d=(0,o.jsx)("h5",(0,r.Z)((0,r.Z)({className:h},l),{},{children:t}));break;case"h6":d=(0,o.jsx)("h6",(0,r.Z)((0,r.Z)({className:h},l),{},{children:t}));break;default:return d}return d}},823:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var r=n(791),c=n(871),a=n(885),o=n(9),s=n(216),u=n(603),i=n(104),l=n(363),h=n(681),d="BookShelfTable_table__SYyM9",f="BookShelfTable_cat_td__tjjyO",x="BookShelfTable_ibsn__tZxQI",v="BookShelfTable_btns__HBZEb",p=n(184),Z=function(e){var t=e.books,n=e.columnNames,c=e.tableStyles,a=void 0===c?"":c,Z=(0,r.useContext)(w);console.log(Z);var j=(0,r.useContext)(o.R).createToast,m="".concat(d," ").concat(a);return(0,p.jsxs)("table",{className:m,children:[(0,p.jsx)("thead",{children:(0,p.jsx)("tr",{children:null===n||void 0===n?void 0:n.map((function(e){return(0,p.jsx)("th",{children:e},e)}))})}),(0,p.jsx)("tbody",{children:t.map((function(e){var t=e.id,n=e.title,r=e.author,c=e.category,a=e.ISBN;return(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:n}),(0,p.jsx)("td",{children:r}),(0,p.jsx)("td",{className:f,children:null!==c&&void 0!==c?c:null===c||void 0===c?void 0:c.join(", ")}),(0,p.jsx)("td",{className:x,children:a}),(0,p.jsxs)("td",{className:v,children:[(0,p.jsx)(s.Z,{text:"Edit",to:"/".concat(i.Z6.EDIT_BOOK,"/").concat(t)}),(0,p.jsx)(u.Z,{text:"Delete",onClick:function(){return e=t,console.log(e),void l.H.deleteBook(e).then((function(){return Z(!0)})).catch((function(){return j((0,h.z)("error"))}));var e}})]})]},t)}))})]})},j=n(413),m=n(925),_="ScrollContainer_scroll_container__Gt-Da",b=["children","className"],k=function(e){var t=e.children,n=e.className,r=(0,m.Z)(e,b);return(0,p.jsx)("div",(0,j.Z)((0,j.Z)({className:"".concat(_," ").concat(n)},r),{},{children:t}))},N=n(841),S={add_book:"Dashboard_add_book__up5Iq"},y=["Book title","Author name","Category","ISBN","Actions"],w=(0,r.createContext)(null),T=function(){var e=(0,r.useState)([]),t=(0,a.Z)(e,2),n=t[0],c=t[1],u=(0,r.useState)(!1),d=(0,a.Z)(u,2),f=d[0],x=d[1],v=(0,r.useRef)(!0),j=(0,r.useContext)(o.R).createToast;return(0,r.useEffect)((function(){v.current&&(l.H.fetchAllBooks().then((function(e){return c(e)})).catch((function(){return j((0,h.z)("error"))})),v.current=!1),f&&l.H.fetchAllBooks().then((function(e){c(e),x(!1)})).catch((function(){return j((0,h.z)("error"))}))}),[j,f]),(0,p.jsx)(w.Provider,{value:x,children:(0,p.jsxs)(N.Z,{sectionStyles:S.section,children:[(0,p.jsx)(s.Z,{to:i.Z6.ADD_BOOK,text:"Add book",className:S.add_book}),(0,p.jsx)(k,{children:(0,p.jsx)(Z,{books:n,columnNames:y})})]})})},B=n(153),g="Header_header__OKWO7",E="Header_container__TsUVY",C=function(e){var t=e.children,n=e.stylesHeader,r=void 0===n?"":n,c=e.stylesContainer,a=void 0===c?"":c,o="".concat(g," ").concat(r),s="".concat(E," ").concat(a);return(0,p.jsx)("header",{className:o,children:(0,p.jsx)(B.Z,{className:s,children:t})})},H=n(282),O=n(334),A="SharedLayout_title__-Q17D",D=function(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(C,{children:(0,p.jsx)(O.Z,{text:"the Book Shelf",component:"h1",className:A})}),(0,p.jsx)(T,{}),(0,p.jsx)(r.Suspense,{fallback:(0,p.jsx)(H.Z,{}),children:(0,p.jsx)(c.j3,{})})]})}},363:function(e,t,n){n.d(t,{H:function(){return x}});var r=n(861),c=n(413),a=n(757),o=n.n(a),s="http://localhost:1234/books",u=function(e,t){var n=t?{body:JSON.stringify(t)}:{};return(0,c.Z)({method:e,headers:{Accept:"application/json","Content-Type":"application/json"}},n)},i=function(){var e=(0,r.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(s,u("GET"));case 3:if(!(t=e.sent).ok){e.next=9;break}return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:throw new Error("Server error! Try again");case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s,"/").concat(t),u("GET"));case 3:if(!(n=e.sent).ok){e.next=9;break}return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:throw new Error("Server error! Try again");case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,fetch(s,u("POST",t));case 4:if(!(n=e.sent).ok){e.next=10;break}return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:throw new Error("Server error! Try again");case 13:return e.prev=13,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(o().mark((function e(t,n){var r,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s,"/").concat(t),u("PUT",n));case 3:if(!(r=e.sent).ok){e.next=9;break}return e.next=7,r.json();case 7:return c=e.sent,e.abrupt("return",c);case 9:throw new Error("Server error! Try again");case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s,"/").concat(t),u("DELETE"));case 3:if(!(n=e.sent).ok){e.next=9;break}return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:throw new Error("Server error! Try again");case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),x={fetchAllBooks:i,fetchBookById:l,createBook:h,updateBook:d,deleteBook:f}},681:function(e,t,n){n.d(t,{z:function(){return o}});var r=n(942),c=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n="",r=0;r<e;r+=1)n+=a(t);return+n};function a(e){return Math.floor(Math.random()*e)+1}var o=function(e,t){var n;return!e&&t?{warnText:t,id:c()}:(n={},(0,r.Z)(n,e,!0),(0,r.Z)(n,"id",c()),n)}},327:function(e,t){t.Z={button:"TextButton_button__GO9Qs"}}}]);
//# sourceMappingURL=823.0563b40c.chunk.js.map